{"ast":null,"code":"import _toConsumableArray from\"/Users/macbook/Documents/GitHub/React 2/notes-management-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/macbook/Documents/GitHub/React 2/notes-management-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{React,useState,useEffect}from\"react\";import NoteForm from'./NoteForm';import NotesList from'./NotesList';import axios from'../config/axios';import'../CSS/noteBook.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NoteBook=function NoteBook(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),body=_useState4[0],setBody=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),notesList=_useState6[0],setNotesList=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),formErrors=_useState8[0],setFormErrors=_useState8[1];var errors={};var runValidations=function runValidations(){if(title.trim().length===0){errors.title='Title cannot be blank';}};useEffect(function(){axios.get('/api/notes',{headers:{'x-auth':localStorage.getItem('token')}}).then(function(response){var result=response.data;var newArr=_toConsumableArray(result);var data=newArr.reverse();setNotesList(data);console.log(newArr);}).catch(function(err){console.log(err);});},[]);var handleChange=function handleChange(e){if(e.target.name===\"title\"){setTitle(e.target.value);}else if(e.target.name===\"body\"){setBody(e.target.value);}};var handleSubmit=function handleSubmit(e){e.preventDefault();runValidations();if(Object.keys(errors).length===0){setFormErrors({});var formData={title:title,body:body};console.log(formData);axios.post('/api/notes',formData,{headers:{'x-auth':localStorage.getItem('token')}}).then(function(response){console.log(response.data);var result=response.data;setNotesList([result].concat(_toConsumableArray(notesList)));}).catch(function(err){alert(err);});setTitle('');setBody('');}else{setFormErrors(errors);}};var removeItem=function removeItem(id){var result=notesList.filter(function(note){return note._id!==id;});setNotesList(result);};return/*#__PURE__*/_jsxs(\"div\",{className:\"NoteBook\",children:[/*#__PURE__*/_jsx(NoteForm,{title:title,body:body,handleChange:handleChange,handleSubmit:handleSubmit,formErrors:formErrors}),/*#__PURE__*/_jsx(\"h1\",{children:\"Saved Notes\"}),/*#__PURE__*/_jsx(NotesList,{notesList:notesList,removeItem:removeItem})]});};export default NoteBook;","map":{"version":3,"sources":["/Users/macbook/Documents/GitHub/React 2/notes-management-app/src/Components/Notebook.js"],"names":["React","useState","useEffect","NoteForm","NotesList","axios","NoteBook","props","title","setTitle","body","setBody","notesList","setNotesList","formErrors","setFormErrors","errors","runValidations","trim","length","get","headers","localStorage","getItem","then","response","result","data","newArr","reverse","console","log","catch","err","handleChange","e","target","name","value","handleSubmit","preventDefault","Object","keys","formData","post","alert","removeItem","id","filter","note","_id"],"mappings":"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","sourcesContent":["import {React, useState, useEffect} from \"react\";\nimport NoteForm from './NoteForm'\nimport NotesList from './NotesList'\nimport axios from '../config/axios';\nimport '../CSS/noteBook.css'\n\n\nconst NoteBook = (props) => {\n\n    const [title, setTitle] = useState('')\n    const [body, setBody] = useState('')\n    const [notesList, setNotesList] = useState([])\n    const [formErrors, setFormErrors] = useState({})\n\n    const errors = {}\n\n    const runValidations = () => {\n        if(title.trim().length === 0){\n            errors.title = 'Title cannot be blank'\n        }\n    }\n\n    useEffect(()=>{\n        axios.get('/api/notes', {\n            headers: {\n                'x-auth': localStorage.getItem('token')\n            }\n        })\n        .then((response)=>{\n            const result = response.data\n            const newArr = [...result]\n            const data = newArr.reverse()\n            setNotesList(data)\n            console.log(newArr)\n        })\n        .catch((err)=>{\n            console.log(err)\n        })\n    },[])\n\n    const handleChange = (e) => {\n        if (e.target.name === \"title\"){\n            setTitle(e.target.value)\n        } else if (e.target.name === \"body\") {\n            setBody(e.target.value)\n        }\n    }\n\n    const handleSubmit = (e) => {\n        e.preventDefault()\n        runValidations()\n\n        if (Object.keys(errors).length === 0) {\n            setFormErrors({})\n            const formData = {\n                title: title,\n                body:body\n            }\n            console.log(formData)\n            axios.post('/api/notes', formData, {\n                headers: {\n                    'x-auth': localStorage.getItem('token')\n                }\n            })\n            .then((response)=>{\n                console.log(response.data)\n                const result = response.data\n                setNotesList([result, ...notesList])\n            })\n            .catch((err)=>{\n                alert(err)\n            });\n            setTitle('')\n            setBody('');\n        } else {\n            setFormErrors(errors)\n        }\n    }\n\n    const removeItem = (id) => {\n        const result = notesList.filter(note=>{\n            return note._id !== id\n        })\n        setNotesList(result)\n    }\n\n    return (\n        <div className=\"NoteBook\">\n            <NoteForm title={title} body={body} handleChange={handleChange} handleSubmit={handleSubmit} formErrors={formErrors}/>\n            <h1>Saved Notes</h1>\n            <NotesList notesList={notesList} removeItem={removeItem}/>\n        </div>\n    )\n}\n\nexport default NoteBook"]},"metadata":{},"sourceType":"module"}